<!DOCTYPE html>
<html class="theme-gruvbox" data-theme="theme-gruvbox" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="dimgray" media="(prefers-color-scheme: dark)" />
    <meta name="description" content="task manager action tracker habit builder" />
    <title>Focus Tree</title>
    <link rel="icon" href="favicon.ico" sizes="any" />
    <link rel="stylesheet" href="style/main.css" />
    <!-- <script src="assets/tutorial.js"></script> -->
    <script src="script/const.js"></script>
    <script src="script/taskControl.js"></script>
    <script src="script/taskView.js"></script>
    <script src="script/taskBase.js"></script>
    <script src="script/taskNode.js"></script>
    <script src="script/taskFocus.js"></script>
    <script src="script/taskSettings.js"></script>
    <script src="script/taskMenu.js"></script>
  </head>
  <body>
    <template id="template-task">
      <style>
        /* Flash of Unstyled Content fix */
        div {
          visibility: hidden;
          opacity: 0;
        }
      </style>
      <link rel="stylesheet" href="style/task.css" />
      <div>
        <details>
          <summary part="summary">
            <button name="task-menu" part="icon-button" title="Menu">‚ò∞</button>
            <slot name="task-name"></slot>
          </summary>
          <section>
            <slot name="task-tree"></slot>
          </section>
        </details>
      </div>
    </template>
    <template id="template-menu">
      <menuitem>
        <button class="icon-button" name="task-focus" title="Focus">üëÅ</button>
      </menuitem>
      <menuitem>
        <button class="icon-button" name="task-add" title="Add subtask">‚úö</button>
      </menuitem>
      <menuitem>
        <button class="icon-button" name="task-edit" title="Edit">‚úé</button>
      </menuitem>
      <menuitem>
        <slot name="task-state"></slot>
      </menuitem>
      <menuitem>
        <button class="icon-button" name="task-sync" title="Sync state">‚á£</button>
      </menuitem>
      <menuitem>
        <button class="icon-button" name="task-clone" title="Clone">‚öØ</button>
      </menuitem>
      <menuitem>
        <button class="icon-button" name="task-delete" title="Delete">‚úñ</button>
      </menuitem>
    </template>
    <template id="template-edit">
      <style>
        /* Flash of Unstyled Content fix */
        div {
          visibility: hidden;
          opacity: 0;
        }
      </style>
      <link rel="stylesheet" href="style/task.css" />
      <link rel="stylesheet" href="style/edit.css" />
      <div>
        <span>
          <button part="icon-button" name="task-edit" title="Edit">‚úé</button>
          <slot name="task-name"></slot>
          <button part="icon-button" name="task-delete" title="Delete">‚úñ</button>
        </span>
        <span>
          <button part="icon-button" name="task-edit" title="Edit">‚úé</button>
          <slot name="task-note">Add a note.</slot>
        </span>
        <menu>
          <menuitem>
            <button part="icon-button" name="task-focus" title="Focus">üëÅ</button>
          </menuitem>
          <menuitem>
            <slot name="task-state"></slot>
          </menuitem>
          <menuitem>
            <button part="icon-button" name="task-sync" title="Sync state">‚á£</button>
          </menuitem>
          <menuitem>
            <button part="icon-button" name="task-clone" title="clone">‚öØ</button>
          </menuitem>
          <menuitem>
            <button part="icon-button" name="task-save" title="Save">‚úî</button>
          </menuitem>
        </menu>
        <details>
          <summary part="summary">
            <slot name="tree-title" data-text="Subtasks">No subtasks</slot>
            <button name="task-add" part="icon-button" title="Add subtask">‚úö</button>
          </summary>
          <section>
            <slot name="task-tree"></slot>
          </section>
        </details>
      </div>
    </template>
    <template id="template-focus">
      <slot name="focus-task-name"></slot>
      <slot name="focus-task-note"></slot>
      <ul>
        <slot name="task-name"></slot>
      </ul>
      <menu>
        <menuitem>
          <button class="icon-button" name="task-done" title="Done">‚úì</button>
        </menuitem>
        <menuitem>
          <form method="dialog">
            <button class="icon-button" name="task-pause" title="Pause">‚ùô‚ùô</button>
          </form>
        </menuitem>
      </menu>
    </template>
    <template id="template-settings">
      <div id="settings">
        <h2>Settings</h2>
        <span>Theme:</span>
        <select>
          <option>Forest</option>
          <option selected>Gruvbox</option>
        </select>
      </div>
      <div id="guide" class="hidden">
        <h2>Guide</h2>
        <ul>
          <button class="icon-button" id="guide-previous" title="Previous">‚óÑ</button>
          <li class="visible">
            <h3>Overview</h3>
            <p>
              <img src="assets/screenshot.png" width="200" />
            </p>
          </li>
          <li>
            <h3>Edit mode</h3>
            <p>
              Click on the edit icon (‚úé) to enter edit mode for the task. New tasks start in edit
              mode. While in edit mode, edit the task name, and optionally a task note while the
              task is in edit mode. Click on the checkmark icon (‚úì) to confirm changes.
            </p>
          </li>
          <li>
            <h3>New root task</h3>
            <p>Use the root menu to add a new root task by clicking on the plus icon (‚úö)</p>
          </li>
          <li>
            <h3>New subtask</h3>
            <p>
              Click on the plus icon (‚úö) in the task menu or in edit mode to add a new child task.
            </p>
          </li>
          <li>
            <h3>Delete task</h3>
            <p>Click on the x icon (‚úñ) to delete a root task or subtask.</p>
          </li>
          <li>
            <h3>Focus mode</h3>
            <p>
              Click on the eye icon (üëÅ) to begin focus mode. While in focus mode, click on the
              checkmark icon (‚úì) to mark the task as complete or the pause icon () to pause the
              task. THis will walk down the task tree until it reaches one of the leaf tasks.
            </p>
          </li>
          <li>
            <h3>Drag and drop tasks</h3>
            <p>
              Click and drag tasks to rearrange the task tree. Dragging a task on top of another
              tasks make the dragged task a subtask. Dragging the task slightly below or above
              another task reorders the tasks. Dragging a task slighly above ore bloew another root
              task, promotes that task to a root task.
            </p>
          </li>
          <li>
            <h3>Sync task states</h3>
            <p>
              Click on the sync icon (‚á£) to sync the whole task tree. All subtasks will inherit the
              task state.
            </p>
          </li>
          <li>
            <h3>Clone task</h3>
            <p>
              Click on the clone icon (‚öØ) to clone the task. Cloned tasks are added at the same
              level.
            </p>
          </li>
          <li>
            <h3>Change task state</h3>
            <p>From the task menu, change the state of the task.</p>
          </li>
          <button class="icon-button" id="guide-next" title="Next">‚ñ∫</button>
        </ul>
      </div>
    </template>
    <header>
      <button class="icon-button" id="root-menu-toggle" name="root-menu" title="Menu">‚ò∞</button>
      <menu>
        <menuitem><button class="icon-button" id="root-add" title="New">‚úö</button></menuitem>
        <menuitem><button class="icon-button" id="root-import" title="Import">‚Üß</button></menuitem>
        <menuitem><button class="icon-button" id="root-export" title="Export">‚Ü•</button></menuitem>
        <menuitem>
          <button class="icon-button" id="root-settings" title="Settings">‚õ≠</button>
        </menuitem>
        <menuitem><button class="icon-button" id="root-guide" title="Guide">?</button></menuitem>
      </menu>
    </header>
    <main></main>
    <script src="script/main.js"></script>
  </body>
</html>
